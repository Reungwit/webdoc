/* =====================================================
   ส่วนที่ 1: Foundation (คัดลอกจาก chapter_2.css)
   ===================================================== */
:root {
  --bg-page:        #f4f6fb;
  --bg-card:        #ffffff;
  --bg-inner:       #fefeff;
  --line-soft:      #e4e7ef;
  --line-accent:    #c7c5ff;
  --badge-bg:       #eef2ff;
  --badge-border:   #8d94fc;
  --badge-text:     #1d2a73;
  --txt-main:       #1f2937;
  --txt-soft:       #6b7280;
  --radius-lg:      14px;
  --radius-md:      10px;
  --radius-sm:      8px;
  --shadow-card:    0 12px 24px rgba(0,0,0,.04);
  --shadow-inner:   0 2px 4px rgba(0,0,0,.04);
  --font-stack:     'Kanit', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

body {
  background: var(--bg-page);
  font-family: var(--font-stack);
  color: var(--txt-main);
  font-size: 15px;
  line-height: 1.45;
  padding: 16px;
}

/* =====================================================
   ส่วนที่ 2: Page Layout (ปรับจาก ch5 ให้เข้ากับ ch2)
   ===================================================== */

/* .container ของ ch5 ใช้สไตล์ .page-shell ของ ch2 */
.container {
  max-width: 1280px;
  margin: 0 auto;
  background: var(--bg-card);
  border: 1px solid var(--line-soft);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-card);
  padding: 24px 24px 60px;
}

.text-center h1 {
  font-size: 28px;
  font-weight: 700;
  color: #000;
  margin-bottom: 20px;
}

/* =====================================================
   ส่วนที่ 3: Main Cards (ปรับจาก ch5 ให้เข้ากับ ch2)
   ===================================================== */

/* .card ของ ch5 ใช้สไตล์ .chapter-section-card ของ ch2 */
.card {
  border: 1px solid rgba(141,148,252,.4);
  background: var(--bg-inner);
  border-radius: var(--radius-md);
  padding: 0; /* ลบ padding เดิม, ให้ header/body จัดการ */
  margin-bottom: 16px;
  overflow: hidden; /* ป้องกันมุมล้น */
}

/* .card-header ของ ch5 ใช้สไตล์ .chapter-head-row ของ ch2 */
.card-header {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 12px;
  margin-bottom: 0;
  padding: 12px;
  border-bottom: 1px solid rgba(141,148,252,.4);
  background: var(--bg-card); /* เพิ่มพื้นหลังสีขาวให้ header */
}

.card-body {
  padding: 16px;
}

/* .number ของ ch5 ใช้สไตล์ .badge-no ของ ch2 */
.number {
  background: var(--badge-bg);
  border: 1px solid var(--badge-border);
  color: var(--badge-text);
  min-width: 44px;
  text-align: center;
  font-weight: 600;
  font-size: 15px;
  border-radius: 999px; /* คงสไตล์กลมของ ch5 */
  padding: 8px 10px;
  box-shadow: 0 2px 4px rgba(0,0,0,.04);
  /* สไตล์จาก ch5 (inline) */
  height: 26px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* .title-input ของ ch5 ใช้สไตล์ .chapter-title-input ของ ch2 */
.title-input {
  flex: 1;
  background: #fff;
  border: 1px solid var(--line-soft);
  border-radius: var(--radius-sm);
  font-size: 15px;
  padding: 10px 12px;
  box-sizing: border-box;
}
.title-input:focus {
  outline: none;
  border-color: var(--line-accent);
  box-shadow: 0 0 0 3px rgba(141,148,252,.25);
}

/* =====================================================
   ส่วนที่ 4: Form Inputs & Textareas
   ===================================================== */

/* .form-control (textarea) ของ ch5 ใช้สไตล์ .para-row textarea ของ ch2 */
textarea.form-control {
  width: 100%;
  min-height: 100px;
  font-size: 14px;
  font-family: var(--font-stack);
  line-height: 1.4;
  background: #fff;
  border: 1px solid var(--line-soft);
  border-radius: var(--radius-sm);
  padding: 8px 10px;
  box-sizing: border-box;
  resize: vertical;
}
textarea.form-control:focus {
  outline: none;
  border-color: var(--line-accent);
  box-shadow: 0 0 0 3px rgba(141,148,252,.25);
}

/* .main-input, .sub-input ของ ch5 ใช้สไตล์ .node-title-input ของ ch2 */
.main-input,
.sub-input {
  flex: 1;
  background: #fff;
  border: 1px solid var(--line-soft);
  border-radius: var(--radius-sm);
  font-size: 14px;
  padding: 8px 10px;
  box-sizing: border-box;
  width: 100%; /* ch5 ต้องการ width 100% */
}
.main-input:focus,
.sub-input:focus {
  outline: none;
  border-color: var(--line-accent);
  box-shadow: 0 0 0 3px rgba(141,148,252,.25);
}

/* =====================================================
   ส่วนที่ 5: Sub-Blocks (ปรับจาก ch5 ให้เข้ากับ ch2)
   ===================================================== */

/* .main-block ของ ch5 ใช้สไตล์ .node-card ของ ch2 */
.main-block {
  background: #fff;
  border: 1px solid var(--line-soft);
  border-radius: var(--radius-sm);
  padding: 12px;
  margin-bottom: 12px;
  margin-top: 12px; /* จาก ch5 */
}

/* label (5.x.y) และ .sub-label (5.x.y.z) ของ ch5 
   ใช้สไตล์ .node-no-badge ของ ch2 */
.main-block > label.form-label,
.sub-label {
  display: inline-block; /* Label ต้องเป็น block */
  background: var(--badge-bg);
  border: 1px solid var(--badge-border);
  color: var(--badge-text);
  font-size: 14px;
  font-weight: 600;
  min-width: 44px;
  text-align: center;
  border-radius: var(--radius-sm);
  padding: 6px 8px;
  margin: 10px 0 6px; /* จาก ch5 */
}

/* =====================================================
   ส่วนที่ 6: Mini Buttons (คัดลอกจาก ch2)
   ===================================================== */

/* .btn-outline-secondary, .btn-outline-info 
   ใช้สไตล์ .mini-btn ของ ch2 */
.btn-outline-secondary,
.btn-outline-info {
  background: #fff;
  border: 1px solid var(--line-accent);
  color: var(--badge-text);
  border-radius: var(--radius-sm);
  font-size: 13px;
  font-weight: 500;
  padding: 6px 8px;
  cursor: pointer;
}
.btn-outline-secondary:hover,
.btn-outline-info:hover {
  background: #eef2ff;
}

/* .btn-outline-warning (ปุ่มลบ)
   ใช้สไตล์ .del-para-btn (ปุ่มลบสีแดง) ของ ch2 */
.btn-outline-warning {
  background: #fff;
  border: 1px solid #fca5a5;
  color: #b91c1c;
  border-radius: var(--radius-sm);
  font-size: 13px;
  font-weight: 500;
  padding: 6px 8px;
  cursor: pointer;
}
.btn-outline-warning:hover {
  background: #fef2f2;
}

/* =====================================================
   ส่วนที่ 7: Footer Buttons (คัดลอกจาก ch2)
   ===================================================== */

/* .button-group ของ ch5 ใช้สไตล์ .footer-action-bar ของ ch2 */
.button-group {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center; /* ch5 จัดกลาง */
  margin-top: 28px;
  padding-top: 20px;
  border-top: 1px solid var(--line-soft);
}

/* สไตล์ .main-btn ทั้งหมดที่คัดลอกจาก ch2 */
.main-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  font-weight: 500;
  border-radius: var(--radius-md);
  padding: 10px 16px;
  cursor: pointer;
  border: none;
  box-shadow: 0 6px 14px rgba(0,0,0,.08);
  font-family: var(--font-stack);
  justify-content: center;
  min-width: 140px;
}
.main-btn span.emoji {
  font-size: 15px;
  line-height: 1;
}

/* น้ำเงิน (ดึงข้อมูล) */
.main-btn-info {
  background: #005BFF;
  color: #fff;
  box-shadow: 0 8px 18px rgba(0,91,255,.35);
}
.main-btn-info:hover {
  background: #0046d4;
}

/* เขียว (บันทึกข้อมูล) */
.main-btn-success {
  background: #00a66a;
  color: #fff;
  box-shadow: 0 8px 18px rgba(0,166,106,.35);
}
.main-btn-success:hover {
  background: #008d59;
}

/* ม่วง/indigo (สร้างเอกสาร) */
.main-btn-doc {
  background: #4f46e5;
  color: #fff;
  box-shadow: 0 8px 18px rgba(79,70,229,.35);
}
.main-btn-doc:hover {
  background: #4338ca;
}

/* ปุ่มเพิ่มหัวข้อใหญ่ (โทนขาว/ขอบม่วง) */
.main-btn-neutral {
  background: #ffffff;
  color: #1f2937;
  border: 1px solid var(--line-accent);
  box-shadow: 0 4px 10px rgba(141,148,252,.25);
}
.main-btn-neutral:hover {
  background: #eef2ff;
}

/* --- ทำการ Map ปุ่มของ ch5 ให้ตรงกับธีม ch2 --- */

/* ปุ่ม #add-root (เพิ่มหัวข้อใหญ่) */
#add-root {
  /* ใช้สไตล์ .main-btn.main-btn-neutral */
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  font-weight: 500;
  border-radius: var(--radius-md);
  padding: 10px 16px;
  cursor: pointer;
  justify-content: center;
  min-width: 140px;
  background: #ffffff;
  color: #1f2937;
  border: 1px solid var(--line-accent);
  box-shadow: 0 4px 10px rgba(141,148,252,.25);
  font-family: var(--font-stack);
}
#add-root:hover {
  background: #eef2ff;
}

/* ปุ่ม .btn ใน .button-group (Footer) */
.button-group .btn {
  /* ใช้สไตล์ .main-btn เป็นฐาน */
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  font-weight: 500;
  border-radius: var(--radius-md);
  padding: 10px 16px;
  cursor: pointer;
  border: none;
  box-shadow: 0 6px 14px rgba(0,0,0,.08);
  font-family: var(--font-stack);
  justify-content: center;
  min-width: 140px;
}
.button-group .btn.btn-primary {
  /* บันทึกข้อมูล (ch5=primary) -> ใช้สีเขียว (.main-btn-success) */
  background: #00a66a;
  color: #fff;
  box-shadow: 0 8px 18px rgba(0,166,106,.35);
}
.button-group .btn.btn-primary:hover {
  background: #008d59;
}

.button-group .btn.btn-info {
  /* ดึงข้อมูล (ch5=info) -> ใช้สีน้ำเงิน (.main-btn-info) */
  background: #005BFF;
  color: #fff;
  box-shadow: 0 8px 18px rgba(0,91,255,.35);
}
.button-group .btn.btn-info:hover {
  background: #0046d4;
}

.button-group .btn.btn-success {
  /* สร้างเอกสาร (ch5=success) -> ใช้สีม่วง (.main-btn-doc) */
  background: #4f46e5;
  color: #fff;
  box-shadow: 0 8px 18px rgba(79,70,229,.35);
}
.button-group .btn.btn-success:hover {
  background: #4338ca;
}