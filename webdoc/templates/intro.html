<!doctype html>
<html lang="th">
{% load static %}
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>‡∏ö‡∏ó‡∏Ñ‡∏±‡∏î‡∏¢‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏Å‡∏¥‡∏ï‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</title>

  <!-- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ CSS -->
  <link rel="stylesheet" href="{% static 'css/intro.css' %}">
</head>

<body>
  <div class="container">
    {% if messages %}
    <ul class="messages">
      {% for message in messages %}
      <li{% if message.tags %} class="{{ message.tags }}" {% endif %}>{{ message }}</li>
      {% endfor %}
    </ul>
    {% endif %}

    <h1 class="mb-4">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ö‡∏ó‡∏Ñ‡∏±‡∏î‡∏¢‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏Å‡∏¥‡∏ï‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</h1>

    <form id="myForm" method="post" action="{% url 'intro_view' %}">
      {% csrf_token %}

      <!-- ===== ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ ===== -->
      <div class="card">
        <div class="card-header bg-primary">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
              <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ô‡∏¥‡∏û‡∏ô‡∏ò‡πå (‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢)</label>
              <input type="text" class="form-control" name="project_name_th" value="{{ initial.project_name_th|default:'' }}">
            </div>
            <div class="col-md-6">
              <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ô‡∏¥‡∏û‡∏ô‡∏ò‡πå (‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)</label>
              <input type="text" class="form-control" name="project_name_en" value="{{ initial.project_name_en|default:'' }}">
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <label class="form-label">‡∏™‡∏≤‡∏Ç‡∏≤‡∏ß‡∏¥‡∏ä‡∏≤ (‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢)</label>
              <input type="text" class="form-control" name="major_th" value="{{ initial.major_th|default:'' }}">
            </div>
            <div class="col-md-6">
              <label class="form-label">‡∏™‡∏≤‡∏Ç‡∏≤‡∏ß‡∏¥‡∏ä‡∏≤ (‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)</label>
              <input type="text" class="form-control" name="major_en" value="{{ initial.major_en|default:'' }}">
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <label class="form-label">‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ (‡∏û.‡∏®.)</label>
              <input type="number" class="form-control" name="academic_year_th" value="{{ initial.academic_year_th|default:'' }}">
            </div>
            <div class="col-md-6">
              <label class="form-label">‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ (‡∏Ñ.‡∏®.)</label>
              <input type="number" class="form-control" name="academic_year_en" value="{{ initial.academic_year_en|default:'' }}">
            </div>
          </div>

          <!-- üîπ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ‚Äî ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏Å‡∏£‡∏¥‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏Å‡∏±‡∏ö‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏≠‡∏∑‡πà‡∏ô -->
          <div class="row">
            <div class="col-md-6">
              <label for="id_total_pages" class="form-label">‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ô‡∏¥‡∏û‡∏ô‡∏ò‡πå‡∏°‡∏µ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô (‡∏´‡∏ô‡πâ‡∏≤)</label>
              <input type="number" class="form-control" id="id_total_pages" name="total_pages"
                     value="{{ initial.total_pages|default:'' }}" min="1" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏ô‡πâ‡∏≤">
            </div>
            <div class="col-md-6"><!-- ‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏ö‡∏≤‡∏•‡∏≤‡∏ô‡∏ã‡πå --></div>
          </div>
        </div>
      </div>

      <!-- ===== ‡∏ö‡∏ó‡∏Ñ‡∏±‡∏î‡∏¢‡πà‡∏≠ ===== -->
      <div class="card">
        <div class="card-header bg-success">‡∏ö‡∏ó‡∏Ñ‡∏±‡∏î‡∏¢‡πà‡∏≠</div>
        <div class="card-body">
          <label class="form-label">‡∏ö‡∏ó‡∏Ñ‡∏±‡∏î‡∏¢‡πà‡∏≠ (‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢)</label>
          <textarea class="form-control" name="abstract_th_para1" rows="6">{{ initial.abstract_th_para1|default:'' }}</textarea>

          <label class="form-label">‡∏ö‡∏ó‡∏Ñ‡∏±‡∏î‡∏¢‡πà‡∏≠ (‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢)</label>
          <textarea class="form-control" name="abstract_th_para2" rows="6">{{ initial.abstract_th_para2|default:'' }}</textarea>

          <label class="form-label">‡∏ö‡∏ó‡∏Ñ‡∏±‡∏î‡∏¢‡πà‡∏≠ (‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å ‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)</label>
          <textarea class="form-control" name="abstract_en_para1" rows="6">{{ initial.abstract_en_para1|default:'' }}</textarea>

          <label class="form-label">‡∏ö‡∏ó‡∏Ñ‡∏±‡∏î‡∏¢‡πà‡∏≠ (‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á ‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)</label>
          <textarea class="form-control" name="abstract_en_para2" rows="6">{{ initial.abstract_en_para2|default:'' }}</textarea>

          <div class="row">
            <div class="col-md-6">
              <label class="form-label">‡∏Ñ‡∏≥‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢)</label>
              <input type="text" class="form-control" name="keyword_th" value="{{ initial.keyword_th|default:'' }}">
            </div>
            <div class="col-md-6">
              <label class="form-label">‡∏Ñ‡∏≥‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)</label>
              <input type="text" class="form-control" name="keyword_en" value="{{ initial.keyword_en|default:'' }}">
            </div>
          </div>
        </div>
      </div>

      <!-- ===== ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥ ===== -->
      <div class="card">
        <div class="card-header bg-info">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥</div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
              <label class="form-label">‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 1 (‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢)</label>
              <input type="text" class="form-control" name="author1_th" value="{{ initial.author1_th|default:'' }}">
            </div>
            <div class="col-md-6">
              <label class="form-label">‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 1 (‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)</label>
              <input type="text" class="form-control" name="author1_en" value="{{ initial.author1_en|default:'' }}">
            </div>
          </div>

          <div id="author2_block" style="{% if not initial.author2_th and not initial.author2_en %}display:none{% endif %}">
            <div class="row">
              <div class="col-md-6">
                <label class="form-label">‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2 (‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢)</label>
                <input type="text" class="form-control" name="author2_th" value="{{ initial.author2_th|default:'' }}">
              </div>
              <div class="col-md-6">
                <label class="form-label">‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2 (‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)</label>
                <input type="text" class="form-control" name="author2_en" value="{{ initial.author2_en|default:'' }}">
              </div>
            </div>
          </div>

          <button type="button" class="btn btn-outline-info" id="toggleAuthor2Btn">
            {% if initial.author2_th or initial.author2_en %}‡∏•‡∏ö‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2{% else %}‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2{% endif %}
          </button>
        </div>
      </div>

      <!-- ===== ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤ ===== -->
      <div class="card">
        <div class="card-header bg-warning">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤</div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
              <label class="form-label">‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 1 (‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢)</label>
              <input type="text" class="form-control" name="advisor_th" value="{{ initial.advisor_th|default:'' }}">
            </div>
            <div class="col-md-6">
              <label class="form-label">‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 1 (‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)</label>
              <input type="text" class="form-control" name="advisor_en" value="{{ initial.advisor_en|default:'' }}">
            </div>
          </div>

          <div id="coadvisor_block" style="{% if not initial.coadvisor_th and not initial.coadvisor_en %}display:none{% endif %}">
            <div class="row">
              <div class="col-md-6">
                <label class="form-label">‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2 (‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢)</label>
                <input type="text" class="form-control" name="coadvisor_th" value="{{ initial.coadvisor_th|default:'' }}">
              </div>
              <div class="col-md-6">
                <label class="form-label">‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2 (‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)</label>
                <input type="text" class="form-control" name="coadvisor_en" value="{{ initial.coadvisor_en|default:'' }}">
              </div>
            </div>
          </div>

          <button type="button" class="btn btn-outline-warning" id="toggleAdvisor2Btn">
            {% if initial.coadvisor_th or initial.coadvisor_en %}‡∏•‡∏ö‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2{% else %}‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2{% endif %}
          </button>
        </div>
      </div>

      <!-- ===== ‡∏Å‡∏¥‡∏ï‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® ===== -->
      <div class="card">
        <div class="card-header bg-secondary">‡∏Å‡∏¥‡∏ï‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</div>
        <div class="card-body">
          <label class="form-label">‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏Å‡∏¥‡∏ï‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</label>
          <textarea class="form-control" name="acknow_para1" rows="6">{{ initial.acknow_para1|default:'' }}</textarea>

          <label class="form-label">‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Å‡∏¥‡∏ï‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</label>
          <textarea class="form-control" name="acknow_para2" rows="6">{{ initial.acknow_para2|default:'' }}</textarea>

          <div class="row">
            <div class="col-md-6">
              <label class="form-label">‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 1 (‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ó‡∏¢)</label>
              <input type="text" class="form-control" name="acknow_name1" value="{{ initial.acknow_name1|default:'' }}">
            </div>
          </div>

          <div id="acknow_name2_block" style="{% if not initial.acknow_name2 %}display:none{% endif %}">
            <div class="row">
              <div class="col-md-6">
                <label class="form-label">‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2 (‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ó‡∏¢)</label>
                <input type="text" class="form-control" name="acknow_name2" value="{{ initial.acknow_name2|default:'' }}">
              </div>
            </div>
          </div>

          <button type="button" class="btn btn-outline-secondary" id="toggleAcknowName2Btn">
            {% if initial.acknow_name2 %}‡∏•‡∏ö‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2{% else %}‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2{% endif %}
          </button>
        </div>
      </div>

      <!-- ===== ‡∏õ‡∏∏‡πà‡∏° Action ===== -->
      <div class="mt-4 mb-5 text-center">
        <button type="submit" name="action" value="save_intro" class="btn btn-primary btn-lg me-2">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
        <button type="submit" name="action" value="get_data_intro" class="btn btn-info btn-lg me-2 text-white">‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
        <button type="submit" name="action" value="generate_intro" class="btn btn-success btn-lg">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î</button>
      </div>
    </form>
  </div>

  <script>
    // Toggle Author 2
    document.getElementById('toggleAuthor2Btn').addEventListener('click', function () {
      var block = document.getElementById('author2_block');
      if (block.style.display === 'none' || block.style.display === '') {
        block.style.display = 'block';
        this.textContent = "‡∏•‡∏ö‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2";
      } else {
        block.style.display = 'none';
        document.querySelector('[name="author2_th"]').value = "";
        document.querySelector('[name="author2_en"]').value = "";
        this.textContent = "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2";
      }
    });

    // Toggle Advisor 2
    document.getElementById('toggleAdvisor2Btn').addEventListener('click', function () {
      var block = document.getElementById('coadvisor_block');
      if (block.style.display === 'none' || block.style.display === '') {
        block.style.display = 'block';
        this.textContent = "‡∏•‡∏ö‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2";
      } else {
        block.style.display = 'none';
        document.querySelector('[name="coadvisor_th"]').value = "";
        document.querySelector('[name="coadvisor_en"]').value = "";
        this.textContent = "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2";
      }
    });

    // Toggle Acknow Name 2
    document.getElementById('toggleAcknowName2Btn').addEventListener('click', function () {
      var block = document.getElementById('acknow_name2_block');
      if (block.style.display === 'none' || block.style.display === '') {
        block.style.display = 'block';
        this.textContent = "‡∏•‡∏ö‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2";
      } else {
        block.style.display = 'none';
        document.querySelector('[name="acknow_name2"]').value = "";
        this.textContent = "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2";
      }
    });

    // Clean textarea ‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°
    document.getElementById("myForm").addEventListener("submit", function () {
      const textareas = document.querySelectorAll("textarea.form-control");
      textareas.forEach(t => {
        t.value = t.value.replace(/\r?\n/g, " ").replace(/\s+/g, " ").trim();
      });
    });
  </script>
</body>
</html>
