<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>บทคัดย่อ</title>
    <style>
        body {
            font-family: 'Sarabun', sans-serif;
            margin: 40px;
            background-color: #f9f9f9;
        }
        form {
            background-color: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            max-width: 800px;
            margin: auto;
        }
        label {
            font-weight: bold;
        }
        input[type="text"], input[type="number"], textarea {
            width: 100%;
            padding: 8px;
            margin-bottom: 12px;
            border-radius: 6px;
            border: 1px solid #ccc;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <h1 style="text-align:center;">แบบฟอร์มกรอกข้อมูลบทคัดย่อ</h1>
    <form method="POST">
        {% csrf_token %}

        <!-- กล่องผู้จัดทำ -->
        <div id="author-container">
            <div class="author-group">
                <label>ผู้จัดทำคนที่ 1 (ภาษาไทย)</label>
                <input type="text" name="author1_th" class="form-control"><br>
                <label>ผู้จัดทำคนที่ 1 (ภาษาอังกฤษ)</label>
                <input type="text" name="author1_en" class="form-control"><br>
            </div>
        </div>
        <button type="button" onclick="addAuthor()">เพิ่มผู้จัดทำ</button>
        <button type="button" onclick="removeAuthor()">ลบผู้จัดทำ</button><br><br>

        <!-- ชื่อโปรเจกต์ -->
        <label>ชื่อโปรเจกต์ (ภาษาไทย)</label>
        <input type="text" name="project_name_th" >

        <label>ชื่อโปรเจกต์ (ภาษาอังกฤษ)</label>
        <input type="text" name="project_name_en" >

        <!-- สาขาวิชา -->
        <label>สาขาวิชา (ภาษาไทย)</label>
        <input type="text" name="major_th">
        <label>สาขาวิชา (ภาษาอังกฤษ)</label>
        <input type="text" name="major_en">

        <!-- อาจารย์ที่ปรึกษา -->
            <div class="advisor-group">
                <label>อาจารย์ที่ปรึกษา (ภาษาไทย)</label>
                <input type="text" name="advisor_th">
                <label>อาจารย์ที่ปรึกษา (ภาษาอังกฤษ)</label>
                <input type="text" name="advisor_en">
            </div>
        <button type="button" onclick="addAdvisor()">เพิ่มอาจารย์ที่ปรึกษา</button>
        <button type="button" onclick="removeAdvisor()">ลบอาจารย์ที่ปรึกษา</button><br><br>

        <!-- ปีการศึกษา -->
        <label>ปีการศึกษา (พ.ศ.)</label>
        <input type="number" name="academic_year_th">
        <label>ปีการศึกษา (ค.ศ.)</label>
        <input type="number" name="academic_year_en">

        <!-- บทคัดย่อ -->
        <label>บทคัดย่อ (ภาษาไทย)</label>
        <textarea name="abstract_th" rows="5"></textarea>
        <label>บทคัดย่อ (ภาษาอังกฤษ)</label>
        <textarea name="abstract_en" rows="5"></textarea>

        <div class="form-group">
        <label for="keyword_th">คำสำคัญ (ไทย):</label>
        <input type="text" class="form-control" name="keyword_th" id="keyword_th" >
        </div>

        <div class="form-group">
        <label for="keyword_en">คำสำคัญ (English):</label>
        <input type="text" class="form-control" name="keyword_en" id="keyword_en" >
        </div>


        <!-- ปุ่ม action -->
        <button type="submit" name="action" value="save_intro">บันทึกข้อมูล</button>
        <button type="submit" name="action" value="get_data_intro">ดึงข้อมูล</button>
        <button type="submit" name="action" value="generate_intro_en">สร้างบทคัดย่อภาษาอังกฤษ</button>
    </form>

    <script>
        let authorCount = 1;
        function addAuthor() {
            if (authorCount >= 2) return;
            authorCount++;
            const container = document.getElementById("author-container");
            const group = document.createElement("div");
            group.className = "author-group";
            group.innerHTML = `
                <label>ผู้จัดทำคนที่ ${authorCount} (ภาษาไทย)</label>
                <input type="text" name="author${authorCount}_th" class="form-control"><br>
                <label>ผู้จัดทำคนที่ ${authorCount} (ภาษาอังกฤษ)</label>
                <input type="text" name="author${authorCount}_en" class="form-control"><br>
            `;
            container.appendChild(group);
        }

        function removeAuthor() {
            if (authorCount <= 1) return;
            const container = document.getElementById("author-container");
            container.removeChild(container.lastElementChild);
            authorCount--;
        }

        let advisorCount = 1;
        function addAdvisor() {
            if (advisorCount >= 2) return;
            advisorCount++;
            const container = document.getElementById("advisor-container");
            const group = document.createElement("div");
            group.className = "advisor-group";
            group.innerHTML = `
                <label>อาจารย์ที่ปรึกษาร่วม (ภาษาไทย)</label>
                <input type="text" name="coadvisor_th" class="form-control">
                <label>อาจารย์ที่ปรึกษาร่วม (ภาษาอังกฤษ)</label>
                <input type="text" name="coadvisor_en" class="form-control">
            `;
            container.appendChild(group);
        }

        function removeAdvisor() {
            if (advisorCount <= 1) return;
            const container = document.getElementById("advisor-container");
            container.removeChild(container.lastElementChild);
            advisorCount--;
        }
    </script>
</body>
</html>
